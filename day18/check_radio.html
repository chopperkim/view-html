<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<div class="container">
    <h2 class="my-4 text-center">체크박스 라디오 버튼 문제</h2>
    <form name="myform" action="#">
        <div class="row justify-content-center">
            <div class="col-8">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="name" name="name" placeholder="홍길동">
                    <label for="name" class="form-label">이름</label>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-8">
                <div class="btn-group input-group">
                    <span class="input-group-text" id="gender">성별</span>
                    <input class="btn-check" type="radio" name="gender" id="male" value="남자" autocomplete="off" checked>
                    <label class="btn btn-outline-warning" for="male">남자</label>
                    <input class="btn-check" type="radio" name="gender" id="female" value="여자" autocomplete="off">
                    <label class="btn btn-outline-warning" for="female">여자</label>
                </div>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-8">
                <div class="btn-group input-group">
                    <span class="input-group-text" id="hobby">취미</span>
                    <input type="checkbox" name="like" id="travel" class="btn-check" value="여행" autocomplete="off">
                    <label for="travel" class="btn btn-outline-success">여행</label>
                    <input type="checkbox" name="like" id="reading" class="btn-check" value="독서" autocomplete="off">
                    <label for="reading" class="btn btn-outline-success">독서</label>
                    <input type="checkbox" name="like" id="movie" class="btn-check" value="영화감상" autocomplete="off">
                    <label for="movie" class="btn btn-outline-success">영화감상</label>
                    <input type="checkbox" name="like" id="baduk" class="btn-check" value="바둑" autocomplete="off">
                    <label for="baduk" class="btn btn-outline-success">바둑</label>
                    <input type="checkbox" name="like" id="chess" class="btn-check" value="장기" autocomplete="off">
                    <label for="chess" class="btn btn-outline-success">장기</label>
                    <input type="checkbox" name="like" id="climbing" class="btn-check" value="등산" autocomplete="off">
                    <label for="climbing" class="btn btn-outline-success">등산</label>
                    <input type="checkbox" name="like" id="fishing" class="btn-check" value="낚시" autocomplete="off">
                    <label for="fishing" class="btn btn-outline-success">낚시</label>
                </div>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="d-grid my-3 col-8">
                <button class="btn btn-light">결과출력</button>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="d-grid col-8">
                <div class="form-floating">
                    <textarea class="form-control" id="result" name="result" style="height: 240px"></textarea>
                    <label for="result">결과</label>
                </div>
            </div>
        </div>
    </form>
</div>
<script>
    /*
취미를 선택했을 경우 결과
    =========================
        홍길동씨!!
        당신은 남자이고,
        취미는 여행, 바둑, 낚시이군요

    취미를 선택하지 않았을 경우 결과
    ================================
        홍길동씨!!
        당신은 남자이고,
        취미는 없군요
     */
    document.myform.addEventListener("submit", (ev) => {
        ev.preventDefault()
        const uname = document.querySelector("#name")
        if (uname.value === "") {
            uname.classList.add("is-invalid")
            return
        } else {
            uname.classList.remove("is-invalid")
        }
        // const uname = document.myform.name
        let results = ""
        results += `${document.querySelector("#name").value}씨!\n`
        results += `당신은 ${document.myform.gender.value}이고\n`
        let hobbies = []
        document.querySelectorAll("input[name=like]:checked").forEach(item => {
            hobbies.push(item.value)
        })
        results += `취미는 ${(hobbies.length > 0) ? hobbies + "이군요!": "없군요!"}`

        document.querySelector("#result").innerHTML = results
    })
</script>
</body>
</html>